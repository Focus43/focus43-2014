// http://codepen.io/fixcl/pen/lvCFr

.spinnable {opacity:0;visibility:hidden;position:absolute;top:50%;left:50%;width:280px;height:280px;@include transform(translate3d(-50%,-50%,0));@include transition(all 0.15s ease);

  &:before, &:after {content:"";position:absolute;top:0;left:0;width:100%;height:100%;@include border-radius(100%);@include transform-origin(center center);@include animation-play-state(paused);}

  &:after {
    @include box-shadow(inset 0 17.5px 0 rgba(250, 250, 0, 0.6), inset 17.5px 0 0 rgba(250, 200, 0, 0.6), inset 0 -17.5px 0 rgba(250, 150, 0, 0.6), inset -17.5px 0 0 rgba(250, 100, 0, 0.6));
    @include animation(rotar 0.5s -0.5s linear infinite);
  }

  &:before {
    @include box-shadow(inset 0 17.5px 0 rgba(0, 250, 250, 0.6), inset 17.5px 0 0 rgba(0, 200, 200, 0.6), inset 0 -17.5px 0 rgba(0, 150, 200, 0.6), inset -17.5px 0 0 rgba(0, 200, 250, 0.6));
    @include animation(rotarIz 0.5s -0.5s linear infinite);
  }
}

// @todo: implement automatic toggling of loading class in angular
body.loading {
  .spinnable {opacity:1;visibility:visible;
    &:before, &:after {@include animation-play-state(running);}
  }
  #level-2 {opacity:0;}
}

@include keyframes(rotar){
  0% {
    @include transform(rotateZ(0deg) scaleX(1) scaleY(1));
  }
  50% {
    @include transform(rotateZ(180deg) scaleX(0.82) scaleY(0.95));
  }
  100% {
    @include transform(rotateZ(360deg) scaleX(1) scaleY(1));
  }
}

@include keyframes(rotarIz){
  0% {
    @include transform(rotateZ(0deg) scaleX(1) scaleY(1));
  }
  50% {
    @include transform(rotateZ(-180deg) scaleX(0.95) scaleY(0.85));
  }
  100% {
    @include transform(rotateZ(-360deg) scaleX(1) scaleY(1));
  }
}